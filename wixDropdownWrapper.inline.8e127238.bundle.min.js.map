{"version":3,"file":"wixDropdownWrapper.inline.8e127238.bundle.min.js","mappings":"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","sources":["webpack:///../../custom-elements/src/elements/wixDropdownMenu/dropdownMenuLayout.ts","webpack:///../../custom-elements/src/elements/wixDropdownMenu/wixDropdownMenu.ts","webpack:///../../custom-elements/src/elements/wixDropdownMenu/initCustomElementsDropdownMenu.ts","webpack:///../../custom-elements/src/dropdownWrapper.ts","webpack:///../../custom-elements/src/utils/domUtils.ts","webpack:///../../custom-elements/src/utils/imageUtils.ts","webpack:///../../custom-elements/src/utils/initResizeService.ts","webpack:///../../custom-elements/src/utils/utils.ts"],"sourcesContent":["// @ts-nocheck\n\nimport { getData, setData } from '../../utils/domUtils'\nimport { setStyle, setAttributes } from '../../utils/customElementsCommonUtils'\nimport { findKey } from '../../utils/utils'\n\nconst MORE_BUTTON_SUFFIX = '__more__'\nconst MORE_CONTAINER_PREFIX = 'moreContainer'\n\nconst init = (contextWindow = window) => {\n\tconst getDropDownWidthIfOk = (\n\t\tmenuWidth,\n\t\tsameWidth,\n\t\tstretch,\n\t\twidths,\n\t\tmenuWidthToReduce,\n\t\tmaxWidth,\n\t\tremoveMarginFromAllChildren,\n\t\textraPixels\n\t) => {\n\t\t// eslint-disable-line complexity\n\t\tmenuWidth -= menuWidthToReduce * (removeMarginFromAllChildren ? widths.length : widths.length - 1)\n\t\tmenuWidth -= extraPixels.left + extraPixels.right\n\t\tif (sameWidth) {\n\t\t\t// width same width, all widths should be as the max width (calculated for the whole items in the calling method)\n\t\t\twidths = widths.map(() => maxWidth)\n\t\t}\n\n\t\t// not first measure - want sizes without 0\n\t\tif (widths.some((v) => v === 0)) {\n\t\t\treturn null\n\t\t}\n\t\tlet totalMenuItemsWidths = 0\n\t\tconst total = widths.reduce((a, b) => a + b, 0)\n\t\tif (total > menuWidth) {\n\t\t\t// drop down should have less items\n\t\t\treturn null\n\t\t}\n\n\t\t// calculate the width of the items\n\t\tif (sameWidth) {\n\t\t\tif (stretch) {\n\t\t\t\tconst width = Math.floor(menuWidth / widths.length)\n\t\t\t\tconst stretchedAndSameItemWidths = widths.map(() => width)\n\t\t\t\ttotalMenuItemsWidths = width * widths.length\n\t\t\t\tif (totalMenuItemsWidths < menuWidth) {\n\t\t\t\t\tconst totalRemnant = Math.floor(menuWidth - totalMenuItemsWidths)\n\t\t\t\t\twidths.forEach((wdth, index) => {\n\t\t\t\t\t\tif (index <= totalRemnant - 1) {\n\t\t\t\t\t\t\tstretchedAndSameItemWidths[index]++\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\treturn stretchedAndSameItemWidths\n\t\t\t}\n\t\t\treturn widths\n\t\t}\n\n\t\t// not same width\n\t\tif (stretch) {\n\t\t\tconst toAdd = Math.floor((menuWidth - total) / widths.length)\n\t\t\ttotalMenuItemsWidths = 0\n\t\t\tconst stretchItemsWidths = widths.map((itemWidth) => {\n\t\t\t\ttotalMenuItemsWidths += itemWidth + toAdd\n\t\t\t\treturn itemWidth + toAdd\n\t\t\t})\n\t\t\tif (totalMenuItemsWidths < menuWidth) {\n\t\t\t\tconst remnant = Math.floor(menuWidth - totalMenuItemsWidths)\n\t\t\t\twidths.forEach((wdth, index) => {\n\t\t\t\t\tif (index <= remnant - 1) {\n\t\t\t\t\t\tstretchItemsWidths[index]++\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn stretchItemsWidths\n\t\t}\n\n\t\treturn widths\n\t}\n\n\tconst getMaxWidth = (widths) => widths.reduce((a, b) => (a > b ? a : b), -Infinity)\n\n\tconst checkForMarginMenu = (itemsContainer) => {\n\t\tconst menuItem = itemsContainer.lastChild\n\t\tconst itemCss = contextWindow.getComputedStyle(menuItem)\n\t\tconst marginLeft = parseInt(itemCss.marginLeft, 10) || 0\n\t\tconst marginRight = parseInt(itemCss.marginRight, 10) || 0\n\n\t\treturn marginLeft + marginRight\n\t}\n\n\tconst roundScaleMeasurement = (value) => Math.round(value)\n\n\tconst checkValidNumber = (num) => {\n\t\tconst number = parseFloat(num)\n\t\treturn isFinite(number) ? number : 0\n\t}\n\n\tconst getDivExtraPixels = (itemsContainer, includeMargin) => {\n\t\tconst itemsContainerCss = contextWindow.getComputedStyle(itemsContainer)\n\n\t\tlet top = checkValidNumber(itemsContainerCss.borderTopWidth) + checkValidNumber(itemsContainerCss.paddingTop)\n\t\tlet bottom =\n\t\t\tcheckValidNumber(itemsContainerCss.borderBottomWidth) + checkValidNumber(itemsContainerCss.paddingBottom)\n\t\tlet left = checkValidNumber(itemsContainerCss.borderLeftWidth) + checkValidNumber(itemsContainerCss.paddingLeft)\n\t\tlet right =\n\t\t\tcheckValidNumber(itemsContainerCss.borderRightWidth) + checkValidNumber(itemsContainerCss.paddingRight)\n\t\tif (includeMargin) {\n\t\t\ttop += checkValidNumber(itemsContainerCss.marginTop)\n\t\t\tbottom += checkValidNumber(itemsContainerCss.marginBottom)\n\t\t\tleft += checkValidNumber(itemsContainerCss.marginLeft)\n\t\t\tright += checkValidNumber(itemsContainerCss.marginRight)\n\t\t}\n\t\treturn { top, bottom, left, right, height: top + bottom, width: left + right }\n\t}\n\n\tconst getViewportHeight = () => contextWindow.innerHeight\n\n\tconst needToOpenDropDownUp = (menuCompDom) => {\n\t\tconst menuClientRect = menuCompDom.getBoundingClientRect()\n\t\tconst topRelativeToWindow = menuClientRect.top\n\t\treturn topRelativeToWindow > getViewportHeight() / 2\n\t}\n\n\tconst getLabelWidth = (labelNode, siteScale) =>\n\t\troundScaleMeasurement(labelNode.getBoundingClientRect().width / siteScale)\n\n\tconst calculateLineHeight = (menuHeight, measures) => {\n\t\tconst lineHeight =\n\t\t\tmenuHeight -\n\t\t\tmeasures.menuBorderY -\n\t\t\tmeasures.labelPad -\n\t\t\tmeasures.ribbonEls -\n\t\t\tmeasures.menuButtonBorder -\n\t\t\tmeasures.ribbonExtra\n\n\t\treturn `${lineHeight}px`\n\t}\n\n\tconst getMenuItemsToPresent = (id, measures, menuProperties, domNodes, menuItemsIdsWithMore) => {\n\t\tconst menuWidth = measures.width\n\n\t\tmeasures.hasOriginalGapData = {}\n\t\tmeasures.originalGapBetweenTextAndBtn = {}\n\t\tconst widths = menuItemsIdsWithMore.map((itemId) => {\n\t\t\tconst menuItem = domNodes[id + itemId]\n\t\t\tlet gapBetweenTextAndBtn\n\t\t\tconst originalGap = getData(menuItem, 'originalGapBetweenTextAndBtn')\n\t\t\tif (originalGap === undefined) {\n\t\t\t\tmeasures.hasOriginalGapData[itemId] = false\n\t\t\t\tgapBetweenTextAndBtn =\n\t\t\t\t\tmeasures.children[id + itemId].boundingClientRectWidth - measures.labelWidths[`${id + itemId}label`]\n\t\t\t\tmeasures.originalGapBetweenTextAndBtn[id + itemId] = gapBetweenTextAndBtn\n\t\t\t} else {\n\t\t\t\tmeasures.hasOriginalGapData[itemId] = true\n\t\t\t\tgapBetweenTextAndBtn = parseFloat(originalGap)\n\t\t\t}\n\t\t\tif (measures.children[id + itemId].width > 0) {\n\t\t\t\treturn Math.floor(measures.labelWidths[`${id + itemId}label`] + gapBetweenTextAndBtn)\n\t\t\t}\n\t\t\treturn 0\n\t\t})\n\t\tconst moreWidth = widths.pop()\n\t\tconst sameWidth = menuProperties.sameWidthButtons\n\t\tconst stretch = menuProperties.stretchButtonsToMenuWidth\n\t\tlet moreShown = false\n\t\tconst menuWidthToReduce = measures.menuItemContainerMargins\n\t\tconst removeMarginFromAllChildren = measures.menuItemMarginForAllChildren\n\t\tconst extraPixels = measures.menuItemContainerExtraPixels\n\t\t// check if it the menu can fit without \"more\"\n\t\tconst maxWidth = getMaxWidth(widths)\n\t\tlet realWidths = getDropDownWidthIfOk(\n\t\t\tmenuWidth,\n\t\t\tsameWidth,\n\t\t\tstretch,\n\t\t\twidths,\n\t\t\tmenuWidthToReduce,\n\t\t\tmaxWidth,\n\t\t\tremoveMarginFromAllChildren,\n\t\t\textraPixels\n\t\t)\n\t\tif (!realWidths) {\n\t\t\t// find the menu with most items that work\n\t\t\tfor (let i = 1; i <= widths.length; i++) {\n\t\t\t\trealWidths = getDropDownWidthIfOk(\n\t\t\t\t\tmenuWidth,\n\t\t\t\t\tsameWidth,\n\t\t\t\t\tstretch,\n\t\t\t\t\twidths.slice(0, -1 * i).concat(moreWidth),\n\t\t\t\t\tmenuWidthToReduce,\n\t\t\t\t\tmaxWidth,\n\t\t\t\t\tremoveMarginFromAllChildren,\n\t\t\t\t\textraPixels\n\t\t\t\t)\n\t\t\t\tif (realWidths) {\n\t\t\t\t\tmoreShown = true\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!realWidths) {\n\t\t\t\t// found a case where the menu text was bigger then menu - more get the menu width\n\t\t\t\tmoreShown = true\n\t\t\t\trealWidths = [moreWidth]\n\t\t\t}\n\t\t}\n\t\tif (moreShown) {\n\t\t\tconst widthMore = realWidths[realWidths.length - 1]\n\t\t\trealWidths = realWidths.slice(0, -1)\n\t\t\twhile (realWidths.length < menuItemsIdsWithMore.length) {\n\t\t\t\trealWidths.push(0)\n\t\t\t}\n\t\t\trealWidths[realWidths.length - 1] = widthMore\n\t\t}\n\t\treturn {\n\t\t\trealWidths,\n\t\t\tmoreShown,\n\t\t}\n\t}\n\n\tconst measureChildrenDimensions = (id, domNodes, childrenIdsToMeasure, siteScale) => {\n\t\tconst childrenMeasures = {}\n\n\t\tchildrenIdsToMeasure.forEach((childId) => {\n\t\t\tconst nodeId = `${id}${childId}`\n\t\t\tconst domNode = domNodes[nodeId]\n\t\t\tif (domNode) {\n\t\t\t\tchildrenMeasures[nodeId] = {\n\t\t\t\t\twidth: domNode.offsetWidth,\n\t\t\t\t\tboundingClientRectWidth: roundScaleMeasurement(domNode.getBoundingClientRect().width / siteScale),\n\t\t\t\t\theight: domNode.offsetHeight,\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn childrenMeasures\n\t}\n\n\tconst getDataIDs = (rootNode) => {\n\t\tconst numItems = +getData(rootNode, 'numItems')\n\t\tif (numItems <= 0 || numItems > Number.MAX_SAFE_INTEGER) {\n\t\t\treturn []\n\t\t}\n\n\t\treturn new Array(numItems).fill(0).map((num, i) => String(i))\n\t}\n\n\tconst getChildrenIdsToMeasure = (menuItemIds) =>\n\t\t['moreContainer', 'itemsContainer', 'dropWrapper'].concat(menuItemIds, [MORE_BUTTON_SUFFIX])\n\n\tconst measure = (id) => {\n\t\tconst measures = {}\n\t\tconst domNodes = {}\n\t\tdomNodes[id] = contextWindow.document.getElementById(`${id}`)\n\n\t\tlet siteScale = 1\n\n\t\tconst siteRootElement = document.querySelector<HTMLDivElement>('#site-root')\n\t\tif (siteRootElement) {\n\t\t\tsiteScale = siteRootElement.getBoundingClientRect().width / siteRootElement.offsetWidth\n\t\t}\n\n\t\tconst menuItemIds = getDataIDs(domNodes[id])\n\t\tconst childrenIdsToMeasure = getChildrenIdsToMeasure(menuItemIds)\n\t\tchildrenIdsToMeasure.forEach((childId) => {\n\t\t\tconst domNodeId = `${id}${childId}`\n\t\t\tdomNodes[domNodeId] = contextWindow.document.getElementById(`${domNodeId}`)\n\t\t})\n\t\tmeasures.children = measureChildrenDimensions(id, domNodes, childrenIdsToMeasure, siteScale)\n\t\tconst menuRoot = domNodes[id]\n\t\tconst itemsContainer = domNodes[`${id}itemsContainer`]\n\t\tconst menuItems = itemsContainer.childNodes\n\t\tconst moreContainer = domNodes[`${id}moreContainer`]\n\t\tconst moreChildNodes = moreContainer.childNodes\n\n\t\tconst stretchButtonsToMenuWidth = getData(menuRoot, 'stretchButtonsToMenuWidth')\n\t\tconst sameWidthButtons = getData(menuRoot, 'sameWidthButtons')\n\n\t\t/* add skin params to measure map*/\n\n\t\tconst boundingClientRect = menuRoot.getBoundingClientRect()\n\t\tmeasures.absoluteLeft = boundingClientRect.left\n\t\tmeasures.bodyClientWidth = contextWindow.document.body.clientWidth\n\n\t\tmeasures.alignButtons = getData(menuRoot, 'dropalign')\n\t\tmeasures.hoverListPosition = getData(menuRoot, 'drophposition')\n\t\tmeasures.menuBorderY = parseInt(getData(menuRoot, 'menuborderY'), 10)\n\t\tmeasures.ribbonExtra = parseInt(getData(menuRoot, 'ribbonExtra'), 10)\n\t\tmeasures.ribbonEls = parseInt(getData(menuRoot, 'ribbonEls'), 10)\n\t\tmeasures.labelPad = parseInt(getData(menuRoot, 'labelPad'), 10)\n\t\tmeasures.menuButtonBorder = parseInt(getData(menuRoot, 'menubtnBorder'), 10)\n\t\tmeasures.menuItemContainerMargins = checkForMarginMenu(itemsContainer)\n\t\tmeasures.menuItemContainerExtraPixels = getDivExtraPixels(itemsContainer, true)\n\t\tmeasures.needToOpenMenuUp = needToOpenDropDownUp(menuRoot)\n\t\tmeasures.menuItemMarginForAllChildren =\n\t\t\t!stretchButtonsToMenuWidth || itemsContainer.getAttribute('data-marginAllChildren') !== 'false'\n\t\tmeasures.moreSubItem = []\n\t\tmeasures.labelWidths = {}\n\t\tmeasures.linkIds = {}\n\t\tmeasures.parentId = {}\n\t\tmeasures.menuItems = {}\n\t\tmeasures.labels = {}\n\n\t\tmoreChildNodes.forEach((moreChild, i) => {\n\t\t\tmeasures.parentId[moreChild.id] = getData(moreChild, 'parentId')\n\t\t\tconst dataId = getData(moreChild, 'dataId')\n\n\t\t\tmeasures.menuItems[dataId] = {\n\t\t\t\tdataId,\n\t\t\t\tparentId: getData(moreChild, 'parentId'),\n\t\t\t\tmoreDOMid: moreChild.id,\n\t\t\t\tmoreIndex: i,\n\t\t\t}\n\n\t\t\tdomNodes[moreChild.id] = moreChild\n\t\t\tconst labelNode = moreChild.querySelector('p')\n\t\t\tdomNodes[labelNode.id] = labelNode\n\t\t\tmeasures.labels[labelNode.id] = {\n\t\t\t\twidth: labelNode.offsetWidth,\n\t\t\t\theight: labelNode.offsetHeight,\n\t\t\t\tleft: labelNode.offsetLeft,\n\t\t\t\tlineHeight: parseInt(contextWindow.getComputedStyle(labelNode).fontSize, 10),\n\t\t\t}\n\t\t\tmeasures.moreSubItem.push(moreChild.id)\n\t\t})\n\n\t\t/* add menu items left to measure map + add the labels to nodes map*/\n\t\tmenuItems.forEach((menuItem, i) => {\n\t\t\tconst dataId = getData(menuItem, 'dataId')\n\n\t\t\tmeasures.menuItems[dataId] = measures.menuItems[dataId] || {}\n\t\t\tmeasures.menuItems[dataId].menuIndex = i\n\t\t\tmeasures.menuItems[dataId].menuDOMid = menuItem.id\n\t\t\tmeasures.children[menuItem.id].left = menuItem.offsetLeft\n\n\t\t\tconst labelNode = menuItem.querySelector('p')\n\t\t\tdomNodes[labelNode.id] = labelNode\n\t\t\tmeasures.labelWidths[labelNode.id] = getLabelWidth(labelNode, siteScale)\n\t\t\tconst linkElementNode = menuItem.querySelector('p')\n\t\t\tdomNodes[linkElementNode.id] = linkElementNode\n\t\t\tmeasures.linkIds[menuItem.id] = linkElementNode.id\n\t\t})\n\n\t\tconst menuHeight = menuRoot.offsetHeight\n\t\tmeasures.height = menuHeight\n\t\tmeasures.width = menuRoot.offsetWidth\n\t\tmeasures.lineHeight = calculateLineHeight(menuHeight, measures)\n\n\t\tconst arrayWidths = getMenuItemsToPresent(\n\t\t\tid,\n\t\t\tmeasures,\n\t\t\t{\n\t\t\t\tsameWidthButtons,\n\t\t\t\tstretchButtonsToMenuWidth,\n\t\t\t},\n\t\t\tdomNodes,\n\t\t\tmenuItemIds.concat(MORE_BUTTON_SUFFIX)\n\t\t)\n\n\t\tmeasures.realWidths = arrayWidths.realWidths\n\t\tmeasures.isMoreShown = arrayWidths.moreShown\n\t\tmeasures.menuItemIds = menuItemIds\n\t\tmeasures.hoverState = getData(moreContainer, 'hover', false)\n\n\t\treturn { measures, domNodes }\n\t}\n\n\tconst setDropModeData = (node, isUp) => setData(node, { dropmode: isUp ? 'dropUp' : 'dropDown' })\n\n\tconst getLabelLineHeight = (moreItemLineHeight, measures) =>\n\t\tmoreItemLineHeight + 15 + measures.menuBorderY + measures.labelPad + measures.menuButtonBorder\n\n\tconst getMenuPosition = (\n\t\tmenuExtraPixels,\n\t\talignButtons,\n\t\tmoreContainerWidth,\n\t\tmenuWidth,\n\t\thoveredListPosition,\n\t\thoveredItem,\n\t\tmenuLeft,\n\t\tmenuRight,\n\t\tclientWidth,\n\t\tdropWrapperWidth\n\t) => {\n\t\tlet moreContainerLeft = '0px'\n\t\tlet moreContainerRight = 'auto'\n\t\tconst hoveredNodeLeftOffset = hoveredItem.left\n\t\tconst hoveredNodeWidthOffset = hoveredItem.width\n\t\tif (alignButtons === 'left') {\n\t\t\tif (hoveredListPosition === 'left') {\n\t\t\t\tmoreContainerLeft = 0\n\t\t\t} else {\n\t\t\t\tmoreContainerLeft = `${hoveredNodeLeftOffset + menuExtraPixels.left}px`\n\t\t\t}\n\t\t} else if (alignButtons === 'right') {\n\t\t\tif (hoveredListPosition === 'right') {\n\t\t\t\tmoreContainerRight = 0\n\t\t\t} else {\n\t\t\t\tmoreContainerRight = `${\n\t\t\t\t\tmenuWidth - hoveredNodeLeftOffset - hoveredNodeWidthOffset - menuExtraPixels.right\n\t\t\t\t}px`\n\t\t\t}\n\t\t\tmoreContainerLeft = 'auto'\n\t\t} else if (hoveredListPosition === 'left') {\n\t\t\t// center\n\t\t\tmoreContainerLeft = `${\n\t\t\t\thoveredNodeLeftOffset + (hoveredNodeWidthOffset + menuExtraPixels.left - moreContainerWidth) / 2\n\t\t\t}px` // eslint-disable-line no-mixed-operators\n\t\t} else if (hoveredListPosition === 'right') {\n\t\t\tmoreContainerLeft = 'auto'\n\t\t\tmoreContainerRight = `${\n\t\t\t\t(hoveredNodeWidthOffset + menuExtraPixels.right - (moreContainerWidth + menuExtraPixels.width)) / 2\n\t\t\t}px`\n\t\t} else {\n\t\t\tmoreContainerLeft = `${\n\t\t\t\tmenuExtraPixels.left +\n\t\t\t\thoveredNodeLeftOffset +\n\t\t\t\t(hoveredNodeWidthOffset - (moreContainerWidth + menuExtraPixels.width)) / 2\n\t\t\t}px` // eslint-disable-line no-mixed-operators\n\t\t}\n\n\t\tif (moreContainerLeft !== 'auto') {\n\t\t\tconst subMenuLeft = menuLeft + parseInt(moreContainerLeft, 10)\n\t\t\tconst isMoreContainerExceedClientWidth = subMenuLeft + dropWrapperWidth > clientWidth\n\n\t\t\tif (isMoreContainerExceedClientWidth) {\n\t\t\t\tmoreContainerLeft = 'auto'\n\t\t\t\tmoreContainerRight = 0\n\t\t\t} else {\n\t\t\t\tmoreContainerLeft = subMenuLeft < 0 ? 0 : moreContainerLeft\n\t\t\t}\n\t\t}\n\n\t\tif (moreContainerRight !== 'auto') {\n\t\t\tconst subMenuRight = menuRight - parseInt(moreContainerRight, 10)\n\t\t\tmoreContainerRight = subMenuRight > clientWidth ? 0 : moreContainerRight\n\t\t}\n\n\t\treturn { moreContainerLeft, moreContainerRight }\n\t}\n\n\tconst decideOnMenuPosition = (id, measures, hoveredItem, moreContainerWidth, dropWrapperWidth) => {\n\t\tconst { width, height, alignButtons, hoverListPosition, menuItemContainerExtraPixels } = measures\n\t\tconst menuLeft = measures.absoluteLeft\n\t\tconst menuRight = menuLeft + width\n\t\tconst menuPosition = getMenuPosition(\n\t\t\tmenuItemContainerExtraPixels,\n\t\t\talignButtons,\n\t\t\tmoreContainerWidth,\n\t\t\twidth,\n\t\t\thoverListPosition,\n\t\t\thoveredItem,\n\t\t\tmenuLeft,\n\t\t\tmenuRight,\n\t\t\tmeasures.bodyClientWidth,\n\t\t\tdropWrapperWidth\n\t\t)\n\n\t\treturn {\n\t\t\tleft: menuPosition.moreContainerLeft,\n\t\t\tright: menuPosition.moreContainerRight,\n\t\t\ttop: measures.needToOpenMenuUp ? 'auto' : `${height}px`,\n\t\t\tbottom: measures.needToOpenMenuUp ? `${height}px` : 'auto',\n\t\t}\n\t}\n\n\tconst isNumber = (n) => !isNaN(parseFloat(n)) && isFinite(n)\n\n\tconst updateDropDownContainerLocation = (id, measures, domNodes, maxLabelWidth) => {\n\t\tconst { hoverState } = measures\n\t\tif (hoverState !== '-1') {\n\t\t\tconst { menuItemIds } = measures\n\t\t\tconst subItemsIndex = menuItemIds.indexOf(hoverState)\n\t\t\tif (isNumber(measures.hoverState) || hoverState === MORE_BUTTON_SUFFIX) {\n\t\t\t\tconst measureMapRealWidths = measures.realWidths\n\t\t\t\tif (!measureMapRealWidths) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst moreContainerWidth = Math.max(\n\t\t\t\t\tmaxLabelWidth,\n\t\t\t\t\tmeasures.children[subItemsIndex !== -1 ? id + subItemsIndex : id + MORE_BUTTON_SUFFIX].width\n\t\t\t\t) // more container width is the max between text width and the more btn width\n\t\t\t\tconst dropWrapperWidth = Math.max(maxLabelWidth, measures.children[`${id}dropWrapper`].width)\n\t\t\t\tconst moreItemLineHeight =\n\t\t\t\t\tmeasures.moreSubItem.length !== 0\n\t\t\t\t\t\t? measures.labels[`${measures.moreSubItem[0]}label`].lineHeight\n\t\t\t\t\t\t: 0\n\t\t\t\tconst newSubItemsLineHeight = getLabelLineHeight(moreItemLineHeight, measures)\n\n\t\t\t\t/* set css for every menu item in the more container*/\n\t\t\t\tmeasures.moreSubItem.forEach((subId) => {\n\t\t\t\t\tsetStyle(domNodes[subId], { minWidth: `${moreContainerWidth}px` })\n\t\t\t\t\tsetStyle(domNodes[`${subId}label`], { minWidth: '0px', lineHeight: `${newSubItemsLineHeight}px` })\n\t\t\t\t})\n\n\t\t\t\t/* set container position and decide if it's open up.down*/\n\t\t\t\tconst hoveredInd = isNumber(measures.hoverState) ? measures.hoverState : '__more__'\n\t\t\t\tconst hoveredItem = {\n\t\t\t\t\twidth: measures.children[id + hoveredInd].width,\n\t\t\t\t\tleft: measures.children[id + hoveredInd].left,\n\t\t\t\t}\n\n\t\t\t\tconst menuPosition = decideOnMenuPosition(\n\t\t\t\t\tid,\n\t\t\t\t\tmeasures,\n\t\t\t\t\thoveredItem,\n\t\t\t\t\tmoreContainerWidth,\n\t\t\t\t\tdropWrapperWidth\n\t\t\t\t)\n\t\t\t\tsetStyle(domNodes[`${id}${MORE_CONTAINER_PREFIX}`], {\n\t\t\t\t\tleft: menuPosition.left,\n\t\t\t\t\tright: menuPosition.right,\n\t\t\t\t})\n\t\t\t\tsetStyle(domNodes[`${id}dropWrapper`], {\n\t\t\t\t\tleft: menuPosition.left,\n\t\t\t\t\tright: menuPosition.right,\n\t\t\t\t\ttop: menuPosition.top,\n\t\t\t\t\tbottom: menuPosition.bottom,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tconst patchDropDownMenuItems = (id, domNodes, measures, menuItemsIdsWithMore) => {\n\t\tconst { realWidths, height: menuHeight, menuItemContainerExtraPixels: extraPixels } = measures\n\t\t// go over all the items (not the more)\n\t\tlet totalVisible = 0\n\t\tlet lastVisibleMenuId = null\n\t\tlet innerLinkElementId = null\n\t\tconst menuLineHeight = measures.lineHeight\n\t\tconst menuItemHeight = menuHeight - extraPixels.height\n\t\tfor (let i = 0; i < menuItemsIdsWithMore.length; i++) {\n\t\t\tconst activeWidth = realWidths[i]\n\t\t\tconst isVisible = activeWidth > 0\n\t\t\tconst menuIndexOrMoreBecauseOfLegacyImplementation = menuItemsIdsWithMore[i]\n\t\t\tconst menuId = id + menuIndexOrMoreBecauseOfLegacyImplementation\n\t\t\tinnerLinkElementId = measures.linkIds[menuId]\n\t\t\tif (isVisible) {\n\t\t\t\ttotalVisible++\n\t\t\t\tlastVisibleMenuId = menuId\n\t\t\t\tsetStyle(domNodes[menuId], {\n\t\t\t\t\twidth: `${activeWidth}px`,\n\t\t\t\t\theight: `${menuItemHeight}px`,\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t'box-sizing': 'border-box',\n\t\t\t\t\toverflow: 'visible',\n\t\t\t\t\tvisibility: 'inherit',\n\t\t\t\t})\n\t\t\t\tsetStyle(domNodes[`${menuId}label`], {\n\t\t\t\t\t'line-height': menuLineHeight,\n\t\t\t\t})\n\t\t\t\tsetAttributes(domNodes[menuId], {\n\t\t\t\t\t'aria-hidden': false,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tsetStyle(domNodes[menuId], {\n\t\t\t\t\theight: '0px',\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tvisibility: 'hidden',\n\t\t\t\t})\n\t\t\t\tsetAttributes(domNodes[menuId], {\n\t\t\t\t\t'aria-hidden': true,\n\t\t\t\t})\n\t\t\t\tsetAttributes(domNodes[innerLinkElementId], {\n\t\t\t\t\ttabIndex: -1,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tif (totalVisible === 1) {\n\t\t\tsetData(domNodes[`${id}moreContainer`], {\n\t\t\t\tlistposition: 'lonely',\n\t\t\t})\n\t\t\tsetData(domNodes[lastVisibleMenuId], {\n\t\t\t\tlistposition: 'lonely',\n\t\t\t})\n\t\t}\n\t}\n\n\tconst patch = (id, measures, domNodes) => {\n\t\tconst menuRoot = domNodes[id]\n\n\t\tsetStyle(menuRoot, { overflowX: 'visible' })\n\t\t// measure widths to find out if there should be \"more\" and what would be the real widths\n\t\t// based on the comp properties\n\t\tconst { menuItemIds, needToOpenMenuUp } = measures\n\t\tconst menuItemsIdsWithMore = menuItemIds.concat(MORE_BUTTON_SUFFIX)\n\t\tsetDropModeData(menuRoot, needToOpenMenuUp)\n\t\tlet maxLabelWidth = 0\n\n\t\tif (measures.hoverState === MORE_BUTTON_SUFFIX) {\n\t\t\t// when hover more button - we render all item and hide the ones that already appear on the menu\n\t\t\tconst firstIndexThatIsHidden = measures.realWidths.indexOf(0)\n\t\t\tconst firstItemShownInMore =\n\t\t\t\tmeasures.menuItems[findKey(measures.menuItems, (value) => value.menuIndex === firstIndexThatIsHidden)]\n\t\t\tconst indexOfFirstItemShownInMore = firstItemShownInMore.moreIndex\n\n\t\t\tconst hasOneItem = indexOfFirstItemShownInMore === menuItemIds.length - 1\n\t\t\tif (firstItemShownInMore.moreDOMid) {\n\t\t\t\tsetAttributes(domNodes[firstItemShownInMore.moreDOMid], {\n\t\t\t\t\t'data-listposition': hasOneItem ? 'dropLonely' : 'top',\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tObject.values(measures.menuItems)\n\t\t\t\t.filter((menuItem) => !!menuItem.moreDOMid)\n\t\t\t\t.forEach((item) => {\n\t\t\t\t\tif (item.moreIndex < indexOfFirstItemShownInMore) {\n\t\t\t\t\t\tsetStyle(domNodes[item.moreDOMid], { display: 'none' })\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst moreItemLabelId = `${item.moreDOMid}label`\n\t\t\t\t\t\tmaxLabelWidth = Math.max(measures.labels[moreItemLabelId].width, maxLabelWidth)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t} else if (measures.hoverState) {\n\t\t\tmeasures.moreSubItem.forEach((v, i) => {\n\t\t\t\tconst subItemLabelId = `${id + MORE_CONTAINER_PREFIX + i}label`\n\t\t\t\tmaxLabelWidth = Math.max(measures.labels[subItemLabelId].width, maxLabelWidth)\n\t\t\t})\n\t\t}\n\t\tupdateDropDownContainerLocation(id, measures, domNodes, maxLabelWidth)\n\n\t\tif (measures.originalGapBetweenTextAndBtn) {\n\t\t\tmenuItemsIdsWithMore.forEach((item) => {\n\t\t\t\tif (!measures.hasOriginalGapData[item]) {\n\t\t\t\t\tsetData(domNodes[`${id}${item}`], {\n\t\t\t\t\t\toriginalGapBetweenTextAndBtn: measures.originalGapBetweenTextAndBtn[`${id}${item}`],\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tpatchDropDownMenuItems(id, domNodes, measures, menuItemsIdsWithMore)\n\t}\n\n\treturn {\n\t\tmeasure,\n\t\tpatch,\n\t}\n}\n\nexport { init }\n","// @ts-nocheck\n\nimport { init as initDropdownMenuLayout } from './dropdownMenuLayout'\n\nfunction wixDropdownMenuWrapper(WixElement, services, contextWindow = window): any {\n\tconst dropdownMenuLayout = initDropdownMenuLayout(contextWindow)\n\n\tclass WixDropdownMenu extends WixElement {\n\t\tstatic get observedAttributes() {\n\t\t\treturn ['data-hovered-item']\n\t\t}\n\t\t_visible = false\n\t\t_mutationIds = {\n\t\t\tread: null,\n\t\t\twrite: null,\n\t\t}\n\t\t_itemsContainer = null\n\t\t_dropContainer = null\n\t\t_labelItems = []\n\n\t\tattributeChangedCallback() {\n\t\t\tif (this._isVisible()) {\n\t\t\t\tthis.reLayout()\n\t\t\t}\n\t\t}\n\n\t\tconnectedCallback() {\n\t\t\tthis._id = this.getAttribute('id')\n\t\t\tthis._hideElement()\n\t\t\tthis._waitForDomLoad().then(() => {\n\t\t\t\tsuper.observeResize()\n\t\t\t\tthis._observeChildrenResize()\n\t\t\t\tthis.reLayout()\n\t\t\t})\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tservices.mutationService.clear(this._mutationIds.read)\n\t\t\tservices.mutationService.clear(this._mutationIds.write)\n\n\t\t\tsuper.disconnectedCallback()\n\t\t}\n\n\t\t_waitForDomLoad() {\n\t\t\tlet onReady\n\t\t\tconst loadPromise = new Promise((res) => {\n\t\t\t\tonReady = res\n\t\t\t})\n\n\t\t\tif (this._isDomReady()) {\n\t\t\t\tonReady()\n\t\t\t} else {\n\t\t\t\tthis._waitForDomReadyObserver = new contextWindow.MutationObserver(() => this._onRootMutate(onReady))\n\t\t\t\tthis._waitForDomReadyObserver.observe(this, { childList: true, subtree: true })\n\t\t\t}\n\n\t\t\treturn loadPromise\n\t\t}\n\n\t\t_isDomReady() {\n\t\t\tthis._itemsContainer = contextWindow.document.getElementById(`${this._id}itemsContainer`)\n\t\t\tthis._dropContainer = contextWindow.document.getElementById(`${this._id}dropWrapper`)\n\n\t\t\treturn this._itemsContainer && this._dropContainer\n\t\t}\n\n\t\t_onRootMutate(onReady) {\n\t\t\tif (this._isDomReady()) {\n\t\t\t\tthis._waitForDomReadyObserver.disconnect()\n\t\t\t\tonReady()\n\t\t\t}\n\t\t}\n\n\t\t_observeChildrenResize() {\n\t\t\tconst menuItems = Array.from(this._itemsContainer.childNodes)\n\t\t\tthis._labelItems = menuItems.map((item) =>\n\t\t\t\tcontextWindow.document.getElementById(`${item.getAttribute('id')}label`)\n\t\t\t)\n\n\t\t\tthis._labelItems.forEach((item) => super.observeChildResize(item))\n\t\t}\n\n\t\t_setVisibility(visible) {\n\t\t\tthis._visible = visible\n\t\t\tthis.style.visibility = visible ? 'inherit' : 'hidden'\n\t\t}\n\n\t\t_isVisible() {\n\t\t\treturn this._visible\n\t\t}\n\n\t\t_hideElement() {\n\t\t\tthis._setVisibility(false)\n\t\t}\n\n\t\t_showElement() {\n\t\t\tthis._setVisibility(true)\n\t\t}\n\n\t\treLayout() {\n\t\t\tlet measures, domNodes\n\n\t\t\tservices.mutationService.clear(this._mutationIds.read)\n\t\t\tservices.mutationService.clear(this._mutationIds.write)\n\n\t\t\tthis._mutationIds.read = services.mutationService.measure(() => {\n\t\t\t\tconst measureResult = dropdownMenuLayout.measure(this._id)\n\t\t\t\tmeasures = measureResult.measures\n\t\t\t\tdomNodes = measureResult.domNodes\n\t\t\t})\n\n\t\t\tthis._mutationIds.write = services.mutationService.mutate(() => {\n\t\t\t\tdropdownMenuLayout.patch(this._id, measures, domNodes)\n\t\t\t\tthis._showElement()\n\t\t\t})\n\t\t}\n\t}\n\n\treturn WixDropdownMenu\n}\n\nexport default wixDropdownMenuWrapper\n","// @ts-nocheck\nimport fastdom from 'fastdom'\nimport wixDropdownMenuWrapper from './wixDropdownMenu'\nimport { initResizeService } from '../../utils/initResizeService'\n\nexport const initCustomElementsDropdownMenu = () => {\n\tif (window.customElements && !window.customElements.get('wix-dropdown-menu')) {\n\t\tconst resizeService = initResizeService()\n\t\tconst WixElement = window.customElementNamespace?.WixElement\n\n\t\tconst WixDropdownMenu = wixDropdownMenuWrapper(WixElement, { resizeService, mutationService: fastdom }, window)\n\t\twindow.customElements.define('wix-dropdown-menu', WixDropdownMenu)\n\t}\n}\n","import { initCustomElementsDropdownMenu } from './elements/wixDropdownMenu/initCustomElementsDropdownMenu'\n\ninitCustomElementsDropdownMenu()\n","// @ts-nocheck\n\nconst CSS_NUMERIC_VALUES = { columnCount: 1, columns: 1, fontWeight: 1, lineHeight: 1, opacity: 1, zIndex: 1, zoom: 1 }\n\nconst addDefaultUnitIfNeeded = (prop, value) =>\n\ttypeof value === 'number' && !CSS_NUMERIC_VALUES[prop] ? `${value}px` : value\n\nconst setAttributes = (node, attributes) =>\n\tnode && attributes && Object.keys(attributes).forEach((attr) => node.setAttribute(attr, attributes[attr]))\n\nconst setStyle = (node, styleProperties) =>\n\tnode &&\n\tstyleProperties &&\n\tObject.keys(styleProperties).forEach((prop) => {\n\t\tconst propValue = styleProperties[prop]\n\t\tif (propValue !== undefined) {\n\t\t\tnode.style[prop] = addDefaultUnitIfNeeded(prop, propValue)\n\t\t} else {\n\t\t\tnode.style.removeProperty(prop)\n\t\t}\n\t})\n\nconst setCssVars = (node, cssVars) =>\n\tnode &&\n\tcssVars &&\n\tObject.keys(cssVars).forEach((prop) => {\n\t\tnode.style.setProperty(prop, cssVars[prop])\n\t})\n\n// 'true'  => true\n// 'false' => false\n// 'null'  => null\n// '42'    => 42\n// '42.5'  => 42.5\n// '08'    => '08'\n// String  => self\nconst deserializeValue = (value) => {\n\tif (!value) {\n\t\treturn value\n\t}\n\n\tif (value === 'true') {\n\t\treturn true\n\t}\n\n\tif (value === 'false') {\n\t\treturn false\n\t}\n\n\tif (value === 'null') {\n\t\treturn null\n\t}\n\n\tif (`${+value}` === value) {\n\t\treturn +value\n\t}\n\n\treturn value\n}\n\nconst getData = (node, key, shouldDeserializeVal = true) =>\n\tnode && shouldDeserializeVal ? deserializeValue(node.dataset[key]) : node.dataset[key]\n\nconst setData = (node, datasetOverrides) => node && datasetOverrides && Object.assign(node.dataset, datasetOverrides)\n\nconst getScreenHeight = (getterOverride?: number) => {\n\treturn getterOverride || document.documentElement.clientHeight || window.innerHeight || 0\n}\n\nconst getDocumentScrollPosition = () => (window ? window.pageYOffset || document.documentElement.scrollTop : 0)\n\nconst fittingTypeToObjectFit = {\n\tfit: 'contain',\n\tfill: 'cover',\n}\n\nexport {\n\tsetAttributes,\n\tsetStyle,\n\tsetCssVars,\n\tgetData,\n\tsetData,\n\tgetScreenHeight,\n\tgetDocumentScrollPosition,\n\tfittingTypeToObjectFit,\n}\n","// @ts-nocheck\n\nimport { fittingTypes, alignTypes, getData } from '@wix/image-kit'\n\nconst getImageComputedProperties = (imageInfo, envConsts, htmlTag) => {\n\tconst { targetWidth, targetHeight, imageData, filters, displayMode = fittingTypes.SCALE_TO_FILL } = imageInfo\n\n\t// todo: CLNT-5323 , wixapp sildergallery proxy is generating image data without uri\n\tif (!targetWidth || !targetHeight || !imageData.uri) {\n\t\treturn { uri: '', css: {} }\n\t}\n\n\tconst {\n\t\twidth,\n\t\theight,\n\t\tcrop,\n\t\tname,\n\t\tfocalPoint,\n\t\tupscaleMethod,\n\t\tquality,\n\t\tdevicePixelRatio = envConsts.devicePixelRatio,\n\t} = imageData\n\tconst imageOptions = {\n\t\tfilters,\n\t\tupscaleMethod,\n\t\t...quality,\n\t}\n\n\tconst pixelAspectRatio = getDevicePixelRatio(devicePixelRatio)\n\n\tconst src = {\n\t\tid: imageData.uri,\n\t\twidth,\n\t\theight,\n\t\t...(crop && { crop }), // eslint-disable-line no-extra-parens\n\t\t...(focalPoint && { focalPoint }), // eslint-disable-line no-extra-parens\n\t\t...(name && { name }), // eslint-disable-line no-extra-parens\n\t}\n\n\tconst target = {\n\t\twidth: targetWidth,\n\t\theight: targetHeight,\n\t\thtmlTag: htmlTag || 'img',\n\t\tpixelAspectRatio,\n\t\talignment: imageInfo.alignType || alignTypes.CENTER,\n\t}\n\n\tconst imageComputedProperties = getData(displayMode, src, target, imageOptions)\n\timageComputedProperties.uri = getMediaUrlByContext(\n\t\timageComputedProperties.uri,\n\t\tenvConsts.staticMediaUrl,\n\t\tenvConsts.mediaRootUrl\n\t)\n\treturn imageComputedProperties\n}\n\nconst getMediaUrlByContext = (imageUri, staticMediaUrl, mediaRootUrl) => {\n\tconst isExternalUrl = /(^https?)|(^data)|(^blob)|(^\\/\\/)/.test(imageUri)\n\tif (isExternalUrl) {\n\t\treturn imageUri\n\t}\n\tlet path = `${staticMediaUrl}/`\n\tif (imageUri) {\n\t\tif (/^micons\\//.test(imageUri)) {\n\t\t\tpath = mediaRootUrl\n\t\t} else if (/[^.]+$/.exec(imageUri)[0] === 'ico') {\n\t\t\t// if the image is an icon then it's taken from a slightly different place\n\t\t\tpath = path.replace('media', 'ficons')\n\t\t}\n\t}\n\treturn path + imageUri\n}\n\nconst getDevicePixelRatio = (devicePixelRatio) => {\n\t// we should be able to force devicePixelRatio from url by using the query param -\n\tconst queryParams = window.location.search.split('&').map((query) => query.split('='))\n\tconst devicePixelRatioQueryParam = queryParams.find((query) => query[0].toLowerCase().includes('devicepixelratio'))\n\tconst devicePixelRatioValueForceFromUrl = devicePixelRatioQueryParam ? Number(devicePixelRatioQueryParam[1]) : null\n\treturn devicePixelRatioValueForceFromUrl || devicePixelRatio || 1\n}\n\nconst getImageSrc = (imageNode, isSvgImage) => imageNode.getAttribute(isSvgImage ? 'xlink:href' : 'src')\n\nfunction getMaskBBox(svgNode) {\n\tif (svgNode) {\n\t\tconst { type } = svgNode.dataset\n\n\t\tif (type && type !== 'ugc') {\n\t\t\tconst dataBBox = svgNode.dataset.bbox\n\n\t\t\tif (!dataBBox) {\n\t\t\t\tconst { x, y, width, height } = svgNode.getBBox()\n\n\t\t\t\treturn `${x} ${y} ${width} ${height}`\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null\n}\n\n// todo: temp experiments for measuring purposes, should be removed after test results\nfunction shouldStopImageLoad(services) {\n\treturn (\n\t\tservices.isExperimentOpen('specs.thunderbolt.tb_stop_client_images') ||\n\t\tservices.isExperimentOpen('specs.thunderbolt.final_force_webp') ||\n\t\tservices.isExperimentOpen('specs.thunderbolt.final_force_no_webp')\n\t)\n}\n\nexport { shouldStopImageLoad, getImageComputedProperties, getImageSrc, getMaskBBox }\n","// @ts-nocheck\n\nexport const initResizeService = () => {\n\tconst resizeService = {\n\t\tobservedElementToRelayoutTarget: new Map(),\n\t\tgetLayoutTargets(elements) {\n\t\t\tconst elementsNeedRelayout = new Set()\n\t\t\telements.forEach((e) => elementsNeedRelayout.add(resizeService.observedElementToRelayoutTarget.get(e)))\n\n\t\t\treturn elementsNeedRelayout\n\t\t},\n\t\tobserve: (element) => {\n\t\t\tresizeService.observedElementToRelayoutTarget.set(element, element)\n\t\t\tresizeObserver.observe(element)\n\t\t},\n\t\tunobserve: (element) => {\n\t\t\tresizeService.observedElementToRelayoutTarget.delete(element)\n\t\t\tresizeObserver.unobserve(element)\n\t\t},\n\t\tobserveChild: (childElement, rootElement) => {\n\t\t\tresizeService.observedElementToRelayoutTarget.set(childElement, rootElement)\n\t\t\tresizeObserver.observe(childElement)\n\t\t},\n\t\tunobserveChild: (childElement) => {\n\t\t\tresizeService.observedElementToRelayoutTarget.delete(childElement)\n\t\t\tresizeObserver.unobserve(childElement)\n\t\t},\n\t}\n\n\tconst resizeObserver = new window.ResizeObserver((entries) => {\n\t\tconst rootElements = resizeService.getLayoutTargets(entries.map((entry) => entry.target))\n\n\t\trootElements.forEach((e) => e.reLayout())\n\t})\n\n\treturn resizeService\n}\n","// @ts-nocheck\n\nconst get = (obj, props, defVal) => {\n\tconst path = Array.isArray(props) ? props : props.split('.')\n\tconst val = path.reduce((subObj, prop) => (subObj && subObj[prop] !== undefined ? subObj[prop] : null), obj)\n\treturn val !== null ? val : defVal\n}\n\nconst pick = (obj, props) => {\n\tconst propsArr = Array.isArray(props) ? props : [props]\n\treturn propsArr.reduce((subObj, prop) => {\n\t\tconst val = get(obj, prop)\n\t\treturn val !== undefined ? Object.assign(subObj, { [prop]: val }) : subObj\n\t}, {})\n}\n\nconst findKey = (obj, predicate) => Object.keys(obj).find((key) => predicate(obj[key], key))\n\n/**\n * Return a unique Array from the input `arr` keeping the last item for each key\n * returned by `predicate(item)`\n *\n * @param {Array} arr\n * @param {function} predicate\n * @returns {Array}\n */\nconst unique = (arr, predicate) => {\n\tconst result = arr.reduce((acc, item) => {\n\t\tacc[predicate(item)] = item\n\t\treturn acc\n\t}, {})\n\n\treturn Object.values(result)\n}\n\nconst cssStringToObject = (styleStr) => {\n\tif (!styleStr || !styleStr.split) {\n\t\treturn {}\n\t}\n\n\treturn styleStr.split(';').reduce(function (ruleMap, ruleString) {\n\t\tconst rulePair = ruleString.split(':')\n\t\tif (rulePair[0] && rulePair[1]) {\n\t\t\truleMap[rulePair[0].trim()] = rulePair[1].trim()\n\t\t}\n\n\t\treturn ruleMap\n\t}, {})\n}\n\n/**\n * @param {Function} callback\n * @returns {Function}\n */\nconst throttleToAnimationFrame = (callback, contextWindow = window) => {\n\tlet throttled = false\n\n\treturn (...args) => {\n\t\tif (!throttled) {\n\t\t\tthrottled = true\n\n\t\t\tcontextWindow.requestAnimationFrame(() => {\n\t\t\t\tthrottled = false\n\t\t\t\tcallback(...args)\n\t\t\t})\n\t\t}\n\t}\n}\n\n/**\n * Join strings to a valid URL.\n *\n * {@see santa-core/santa-core-utils/src/coreUtils/core/urlUtils.js}\n * @param {...string[]} args\n * @return {string}\n */\nfunction joinURL(...args) {\n\tlet url = args[0]\n\n\tfor (let i = 1; i < args.length; ++i) {\n\t\turl = `${url.replace(/\\/$/, '')}/${args[i].replace(/^\\//, '')}`\n\t}\n\n\treturn url\n}\n\nexport { get, pick, findKey, unique, cssStringToObject, throttleToAnimationFrame, joinURL }\n"],"names":["MORE_BUTTON_SUFFIX","MORE_CONTAINER_PREFIX","init","contextWindow","window","getDropDownWidthIfOk","menuWidth","sameWidth","stretch","widths","menuWidthToReduce","maxWidth","removeMarginFromAllChildren","extraPixels","length","left","right","map","some","v","totalMenuItemsWidths","total","reduce","a","b","width","Math","floor","stretchedAndSameItemWidths","totalRemnant","forEach","wdth","index","toAdd","stretchItemsWidths","itemWidth","remnant","roundScaleMeasurement","value","round","checkValidNumber","num","number","parseFloat","isFinite","needToOpenDropDownUp","menuCompDom","getBoundingClientRect","top","innerHeight","decideOnMenuPosition","id","measures","hoveredItem","moreContainerWidth","dropWrapperWidth","height","alignButtons","hoverListPosition","menuItemContainerExtraPixels","menuLeft","absoluteLeft","menuPosition","menuExtraPixels","hoveredListPosition","menuRight","clientWidth","moreContainerLeft","moreContainerRight","hoveredNodeLeftOffset","hoveredNodeWidthOffset","subMenuLeft","parseInt","getMenuPosition","bodyClientWidth","needToOpenMenuUp","bottom","isNumber","n","isNaN","measure","domNodes","document","getElementById","siteScale","siteRootElement","querySelector","offsetWidth","menuItemIds","rootNode","numItems","Number","MAX_SAFE_INTEGER","Array","fill","i","String","getDataIDs","childrenIdsToMeasure","concat","getChildrenIdsToMeasure","childId","domNodeId","children","childrenMeasures","nodeId","domNode","boundingClientRectWidth","offsetHeight","measureChildrenDimensions","menuRoot","itemsContainer","menuItems","childNodes","moreContainer","moreChildNodes","stretchButtonsToMenuWidth","sameWidthButtons","boundingClientRect","body","menuBorderY","ribbonExtra","ribbonEls","labelPad","menuButtonBorder","menuItemContainerMargins","menuItem","lastChild","itemCss","getComputedStyle","marginLeft","marginRight","checkForMarginMenu","includeMargin","itemsContainerCss","borderTopWidth","paddingTop","borderBottomWidth","paddingBottom","borderLeftWidth","paddingLeft","borderRightWidth","paddingRight","marginTop","marginBottom","getDivExtraPixels","menuItemMarginForAllChildren","getAttribute","moreSubItem","labelWidths","linkIds","parentId","labels","moreChild","dataId","moreDOMid","moreIndex","labelNode","offsetLeft","lineHeight","fontSize","push","menuIndex","menuDOMid","getLabelWidth","linkElementNode","menuHeight","calculateLineHeight","arrayWidths","menuProperties","menuItemsIdsWithMore","hasOriginalGapData","originalGapBetweenTextAndBtn","itemId","gapBetweenTextAndBtn","originalGap","undefined","moreWidth","pop","moreShown","getMaxWidth","realWidths","slice","widthMore","getMenuItemsToPresent","isMoreShown","hoverState","patch","overflowX","node","isUp","dropmode","maxLabelWidth","firstIndexThatIsHidden","indexOf","firstItemShownInMore","indexOfFirstItemShownInMore","hasOneItem","Object","values","filter","item","display","moreItemLabelId","max","subItemLabelId","subItemsIndex","newSubItemsLineHeight","moreItemLineHeight","getLabelLineHeight","subId","minWidth","hoveredInd","updateDropDownContainerLocation","totalVisible","lastVisibleMenuId","innerLinkElementId","menuLineHeight","menuItemHeight","activeWidth","isVisible","menuId","position","overflow","visibility","tabIndex","listposition","patchDropDownMenuItems","WixElement","services","dropdownMenuLayout","_visible","_mutationIds","read","write","_itemsContainer","_dropContainer","_labelItems","observedAttributes","attributeChangedCallback","this","_isVisible","reLayout","connectedCallback","_id","_hideElement","_waitForDomLoad","then","super","observeResize","_observeChildrenResize","disconnectedCallback","mutationService","clear","onReady","loadPromise","Promise","res","_isDomReady","_waitForDomReadyObserver","MutationObserver","_onRootMutate","observe","childList","subtree","disconnect","from","observeChildResize","_setVisibility","visible","style","_showElement","measureResult","mutate","customElements","get","resizeService","initResizeService","customElementNamespace","WixDropdownMenu","wixDropdownMenu","define","initCustomElementsDropdownMenu","CSS_NUMERIC_VALUES","columnCount","columns","fontWeight","opacity","zIndex","zoom","setAttributes","attributes","keys","attr","setAttribute","setStyle","styleProperties","prop","propValue","addDefaultUnitIfNeeded","removeProperty","setCssVars","cssVars","setProperty","getData","key","shouldDeserializeVal","dataset","setData","datasetOverrides","assign","getScreenHeight","getterOverride","documentElement","clientHeight","getDocumentScrollPosition","pageYOffset","scrollTop","fittingTypeToObjectFit","fit","getImageComputedProperties","imageInfo","envConsts","htmlTag","targetWidth","targetHeight","imageData","filters","displayMode","fittingTypes","uri","css","crop","name","focalPoint","upscaleMethod","quality","devicePixelRatio","imageOptions","pixelAspectRatio","getDevicePixelRatio","src","target","alignment","alignType","alignTypes","imageComputedProperties","getMediaUrlByContext","staticMediaUrl","mediaRootUrl","imageUri","test","path","exec","replace","devicePixelRatioQueryParam","location","search","split","query","find","toLowerCase","includes","getImageSrc","imageNode","isSvgImage","getMaskBBox","svgNode","type","bbox","x","y","getBBox","shouldStopImageLoad","isExperimentOpen","observedElementToRelayoutTarget","Map","getLayoutTargets","elements","elementsNeedRelayout","Set","e","add","element","set","resizeObserver","unobserve","delete","observeChild","childElement","rootElement","unobserveChild","ResizeObserver","entries","entry","obj","props","defVal","val","isArray","subObj","findKey","predicate","unique","arr","result","acc","cssStringToObject","styleStr","ruleMap","ruleString","rulePair","trim","throttleToAnimationFrame","callback","throttled","args","requestAnimationFrame","joinURL","url"],"sourceRoot":""}